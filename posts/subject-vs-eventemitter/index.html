<!DOCTYPE html><html lang="ko-KR" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-proxy-endpoint" content=""><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Subject vs EventEmitter" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="지난 포스트에서 언급했다시피 얼마전 서로 다른 컴포넌트에서 상태를 전달하기 위해 코드 작성 중 의문이 생겼다. Angular에서 컴포넌트간 데이터를 전달할 때 3가지 방식이 있다." /><meta property="og:description" content="지난 포스트에서 언급했다시피 얼마전 서로 다른 컴포넌트에서 상태를 전달하기 위해 코드 작성 중 의문이 생겼다. Angular에서 컴포넌트간 데이터를 전달할 때 3가지 방식이 있다." /><link rel="canonical" href="https://soonj817.github.io/posts/subject-vs-eventemitter/" /><meta property="og:url" content="https://soonj817.github.io/posts/subject-vs-eventemitter/" /><meta property="og:site_name" content="SoonJ" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-19T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Subject vs EventEmitter" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"지난 포스트에서 언급했다시피 얼마전 서로 다른 컴포넌트에서 상태를 전달하기 위해 코드 작성 중 의문이 생겼다. Angular에서 컴포넌트간 데이터를 전달할 때 3가지 방식이 있다.","headline":"Subject vs EventEmitter","dateModified":"2021-04-19T00:00:00+09:00","url":"https://soonj817.github.io/posts/subject-vs-eventemitter/","datePublished":"2021-04-19T00:00:00+09:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://soonj817.github.io/posts/subject-vs-eventemitter/"},"@context":"https://schema.org"}</script><title>Subject vs EventEmitter | SoonJ</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/npm/countup.js@1.9.3/dist/countUp.min.js"></script> <script async src="/assets/js/dist/pvreport.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-WWFW42XEDP"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-WWFW42XEDP'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">SoonJ</a></div><div class="site-subtitle font-italic">[INTP]: A logical thinker</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/soonJ817" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['soonj0817','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Subject vs EventEmitter</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Subject vs EventEmitter</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Soon Jae Jung </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Apr 19, 2021, 12:00 AM +0900" prep="on" > Apr 19 <i class="unloaded">2021-04-19T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="590 words">3 min</span> <span id="pv" class="pageviews"><i class="fas fa-spinner fa-spin fa-fw"></i></span></div></div><div class="post-content"><p>지난 포스트에서 언급했다시피 <code class="language-plaintext highlighter-rouge">얼마전 서로 다른 컴포넌트에서 상태를 전달하기 위해</code> 코드 작성 중 의문이 생겼다. Angular에서 컴포넌트간 데이터를 전달할 때 3가지 방식이 있다.</p><ol><li>EventEmitter<li>service 패턴<li>RxJS</ol><p>이번 포스트는 위 세가지 방법의 차이점에 대해 소개해볼 생각이다.</p><h1 id="eventemitter">EventEmitter</h1><p>EventEmitter는 아래와 같이 선언하고,</p><blockquote><p>@Output() postData = new EventEmitter()</p></blockquote><p>아래와 같이 listen한다.</p><blockquote><p>@Input() listPost = [];</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://stackblitz.com/edit/angular-post-app-event-emitter-5z4t15" alt="사용 예시" /></p><p>위 방식은 부모-자식 관계의 component들이 서로간의 데이터를 전달할 때 Angular에서 소개하는 방식이다. 타입 지정이 자유롭고 간편하게 사용할 수 있다. 다만, Output/Input에 대한 명시적인 처리는 없어서(내가 모르는건지…) 둘 중 하나만 선언해도 빌드 에러가 발생하진 않는다.</p><h1 id="service-패턴">service 패턴</h1><p>service 패턴은 두 component가 공유하는 한 service를 생성하는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://stackblitz.com/edit/angular-service-to-service-communication-mxbp4i" alt="사용 예시" /></p><p>이 경우, 두 component들은 해당 service에 의존성을 가지게 되기 때문에 높은 결합력을 가진다.</p><h1 id="rxjs">RxJS</h1><p>subject를 이용해 이벤트를 발생시키고, subscribe를 통해 구독하여 데이터를 전달받는다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://stackblitz.com/edit/angular-service-to-service-communication-xlnw6r" alt="사용 예시" /></p><p>RxJS에 대해 능숙하고 구독/발행 패턴에 대한 이해도가 깊다면 강력한 기능들을 만들 수 있다.</p><h1 id="결론">결론</h1><p>service 패턴은 그렇다치고… RxJS와 EventEmitter의 동작이 어떤 차이가 있는지 몰라서 찾아보았더니 둘은 완벽하게 동일하며(!) 내부적으로 EventEmitter는 RxJS의 객체를 상속받아 super로 호출하여 사용중이었다. 차이가 있다면 EventEmitter는 _isAsync라는 프로퍼티가 추가되어 있었는데 아마도 Angular에서 비동기 방식을 다룰 때 사용할 것으로 예상된다. (필자는 한번도 사용해보진 않았다.)</p><p>그래도 Angular가 부모-자식 관계의 Component에 대해 EventEmitter를 소개한 이유가 있을거라 생각되어 부모-자식 관계의 데이터 전달은 EventEmitter, 의존성 주입이 필요할 땐 Service, 그 외엔 RxJS를 사용하기로 정하였다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/framework/'>framework</a>, <a href='/categories/angular/'>angular</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/angular/" class="post-tag no-text-decoration" >angular</a> <a href="/tags/observable/" class="post-tag no-text-decoration" >observable</a> <a href="/tags/subject/" class="post-tag no-text-decoration" >subject</a> <a href="/tags/eventemitter/" class="post-tag no-text-decoration" >eventemitter</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Subject vs EventEmitter - SoonJ&url=https://soonj817.github.io/posts/subject-vs-eventemitter/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Subject vs EventEmitter - SoonJ&u=https://soonj817.github.io/posts/subject-vs-eventemitter/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Subject vs EventEmitter - SoonJ&url=https://soonj817.github.io/posts/subject-vs-eventemitter/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/wedding-review/">결혼 후기</a><li><a href="/posts/the-best-way-to-unsubscribe-in-angular/">Angular에서 unsubscribe를 사용하는 방법</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/diary/">diary</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/markdown/">markdown</a> <a class="post-tag" href="/tags/md/">md</a> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/design-pattern/">design-pattern</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/eventemitter/">eventemitter</a> <a class="post-tag" href="/tags/exception/">exception</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/the-best-way-to-unsubscribe-in-angular/"><div class="card-body"> <span class="timeago small" > Apr 14 <i class="unloaded">2021-04-14T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Angular에서 unsubscribe를 사용하는 방법</h3><div class="text-muted small"><p> 개요 ※ 이 포스트는 를 번역 및 가공하여 작성하였습니다. 얼마전 서로 다른 컴포넌트에서 상태를 전달하기 위해 subscribe를 사용할 일이 있었다. 일반적으로 subscribe는 component의 생명주기가 다하는 순간 unsubscribe되면서 파괴되지만 종종 그렇지 않을 경우도 있다. 이땐 수동으로 unsubscribe를 해줘야 한다. ...</p></div></div></a></div><div class="card"> <a href="/posts/new-start/"><div class="card-body"> <span class="timeago small" > Sep 30 <i class="unloaded">2021-09-30T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>지킬 포스트를 한글.md로 만들면 404가 뜬다.</h3><div class="text-muted small"><p> 블로그 다시 시작합니다. New Start!!! 덧) 올해 목표 하나 달성…! 이직에 성공했습니다 :)</p></div></div></a></div><div class="card"> <a href="/posts/must-know-to-make-application/"><div class="card-body"> <span class="timeago small" > Apr 26 <i class="unloaded">2021-04-26T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>함수형 프로그래밍 no.01</h3><div class="text-muted small"><p> 어플리케이션의 설계 요소 확장성: 추가 기능을 지원하기 위해 계속 코드를 리팩토링해야 하는가? 모듈화 용이성: 파일 하나를 고치면 다른 파일도 영향을 받는가? 재사용성: 중복이 많은가? 테스트성: 함수를 단위 테스트하기 어려운가? 헤아리기 쉬움: 체계도 없고 따라가기 어려운 코드인가? 위 목록 중 한가지라도 ‘예’ 또는 ‘잘 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/the-best-way-to-unsubscribe-in-angular/" class="btn btn-outline-primary" prompt="Older"><p>Angular에서 unsubscribe를 사용하는 방법</p></a> <a href="/posts/must-know-to-make-application/" class="btn btn-outline-primary" prompt="Newer"><p>함수형 프로그래밍 no.01</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#main > div.row:first-child > div:first-child img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/soonJ817">Soon Jae Jung</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/diary/">diary</a> <a class="post-tag" href="/tags/angular/">angular</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/markdown/">markdown</a> <a class="post-tag" href="/tags/md/">md</a> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/eventemitter/">eventemitter</a> <a class="post-tag" href="/tags/exception/">exception</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://soonj817.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
